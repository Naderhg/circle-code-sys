<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Shipment Details - CIRCLE CODE</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
    <!-- Sidebar Navigation -->
    <div class="sidebar">
        <div class="logo">
            <div class="logo-icon"><i class="fas fa-code"></i></div>
            <div class="logo-text">
                <h2>CIRCLE CODE</h2>
                <p>From Code to Complete Solutions</p>
            </div>
        </div>

        <div class="user-welcome">
            <div class="user-avatar">M</div>
            <span>Welcome, Admin User</span>
        </div>

        <ul class="nav-menu">
            <li>
                <a href="index.html"><i class="fas fa-th-large"></i> Dashboard</a>
            </li>
            <li>
                <a href="sellers.html"><i class="fas fa-store"></i> Merchants</a>
            </li>
            <li>
                <a href="agents.html"><i class="fas fa-user-tie"></i> Agents</a>
            </li>
            <li class="active">
                <a href="shipments.html"><i class="fas fa-shipping-fast"></i> Shipments</a>
            </li>
            <li>
                <a href="zones.html"><i class="fas fa-map-marked-alt"></i> Zones</a>
            </li>
            <li>
                <a href="wallet.html"><i class="fas fa-wallet"></i> Wallet</a>
            </li>
            <li>
                <a href="users.html"><i class="fas fa-users"></i> All Users</a>
            </li>
            <li>
                <a href="settings.html"><i class="fas fa-cog"></i> Settings</a>
            </li>
            <li>
                <a href="reports.html"><i class="fas fa-chart-line"></i> Reports</a>
            </li>
        </ul>

        <div class="logout">
            <a href="#"><i class="fas fa-sign-out-alt"></i> Log Out</a>
        </div>
    </div>

    <!-- Main Content -->
    <div class="main-content">
        <div class="top-bar">
            <div class="page-title">
                <h1>Shipment Details</h1>
                <a href="shipments.html" class="back-link"><i class="fas fa-arrow-left"></i> Back to Shipments</a>
            </div>
            <div class="top-bar-right">
                <button class="notification-btn"><i class="fas fa-bell"></i></button>
                <button class="theme-toggle-btn"><i class="fas fa-moon"></i></button>
                <button class="profile-btn"><i class="fas fa-user-circle"></i></button>
            </div>
        </div>

        <!-- Shipment Details Container -->
        <div class="shipment-details-container">
            <!-- Main Shipment Information -->
            <div class="shipment-info">
                <div class="shipment-header">
                    <div class="shipment-id">#SHP-001</div>
                    <div class="shipment-status status in-transit">IN TRANSIT</div>
                </div>

                <div class="shipment-section">
                    <h3><i class="fas fa-info-circle"></i> Basic Information</h3>
                    <div class="info-grid">
                        <div class="info-group">
                            <div class="info-label">Created Date</div>
                            <div class="info-value">2023-05-15</div>
                        </div>
                        <div class="info-group">
                            <div class="info-label">Last Updated</div>
                            <div class="info-value">2023-05-17 14:30</div>
                        </div>
                        <div class="info-group">
                            <div class="info-label">Amount</div>
                            <div class="info-value">$125.00</div>
                        </div>
                        <div class="info-group">
                            <div class="info-label">Package Type</div>
                            <div class="info-value">Parcel</div>
                        </div>
                        <div class="info-group">
                            <div class="info-label">Weight</div>
                            <div class="info-value">2.5 kg</div>
                        </div>
                    </div>
                </div>

                <div class="shipment-section">
                    <h3><i class="fas fa-user"></i> Customer Information</h3>
                    <div class="info-grid">
                        <div class="info-group">
                            <div class="info-label">Customer Name</div>
                            <div class="info-value">John Doe</div>
                        </div>
                        <div class="info-group">
                            <div class="info-label">Phone Number</div>
                            <div class="info-value">+1 234-567-8901</div>
                        </div>
                        <div class="info-group">
                            <div class="info-label">Email</div>
                            <div class="info-value">john.doe@example.com</div>
                        </div>
                    </div>
                </div>

                <div class="shipment-section">
                    <h3><i class="fas fa-map-marker-alt"></i> Delivery Address</h3>
                    <div class="info-group">
                        <div class="info-label">Address</div>
                        <div class="info-value">123 Main Street, Apt 4B</div>
                    </div>
                    <div class="info-group">
                        <div class="info-label">City & Zone</div>
                        <div class="info-value">Downtown, Central City</div>
                    </div>
                    <div class="info-group">
                        <div class="info-label">Postal Code</div>
                        <div class="info-value">10001</div>
                    </div>
                    <div class="info-group">
                        <div class="info-label">Landmark</div>
                        <div class="info-value">Near Central Park</div>
                    </div>
                </div>

                <div class="shipment-section">
                    <h3><i class="fas fa-store"></i> Merchant Information</h3>
                    <div class="info-grid">
                        <div class="info-group">
                            <div class="info-label">Merchant</div>
                            <div class="info-value">Tech Store</div>
                        </div>
                        <div class="info-group">
                            <div class="info-label">Merchant ID</div>
                            <div class="info-value">MCH-001</div>
                        </div>
                        <div class="info-group">
                            <div class="info-label">Contact Person</div>
                            <div class="info-value">Alex Johnson</div>
                        </div>
                        <div class="info-group">
                            <div class="info-label">Contact Number</div>
                            <div class="info-value">+1 987-654-3210</div>
                        </div>
                    </div>
                </div>

                <div class="shipment-section">
                    <h3><i class="fas fa-user-tie"></i> Delivery Agent</h3>
                    <div class="info-grid">
                        <div class="info-group">
                            <div class="info-label">Agent Name</div>
                            <div class="info-value">Ahmed Khaled</div>
                        </div>
                        <div class="info-group">
                            <div class="info-label">Agent ID</div>
                            <div class="info-value">AGT-001</div>
                        </div>
                        <div class="info-group">
                            <div class="info-label">Contact Number</div>
                            <div class="info-value">+1 555-123-4567</div>
                        </div>
                        <div class="info-group">
                            <div class="info-label">Vehicle Type</div>
                            <div class="info-value">Motorcycle</div>
                        </div>
                    </div>
                </div>

                <div class="shipment-section">
                    <h3><i class="fas fa-box-open"></i> Package Information</h3>
                    <div class="info-grid">
                        <div class="info-group">
                            <div class="info-label">Special Instructions</div>
                            <div class="info-value">Handle with care. Fragile electronics inside.</div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Shipment Sidebar -->
            <div class="shipment-sidebar">
                <div class="shipment-section">
                    <h3><i class="fas fa-history"></i> Tracking History</h3>
                    <div class="tracking-timeline">
                        <div class="timeline-item active">
                            <div class="timeline-point"></div>
                            <div class="timeline-content">
                                <div class="timeline-date">May 17, 2023 - 14:30</div>
                                <div class="timeline-title">In Transit</div>
                                <div class="timeline-description">Shipment is on the way to the delivery address</div>
                            </div>
                        </div>
                        <div class="timeline-item active">
                            <div class="timeline-point"></div>
                            <div class="timeline-content">
                                <div class="timeline-date">May 16, 2023 - 09:15</div>
                                <div class="timeline-title">In Stock</div>
                                <div class="timeline-description">Shipment received at sorting facility</div>
                            </div>
                        </div>
                        <div class="timeline-item active">
                            <div class="timeline-point"></div>
                            <div class="timeline-content">
                                <div class="timeline-date">May 15, 2023 - 16:45</div>
                                <div class="timeline-title">New</div>
                                <div class="timeline-description">Shipment created</div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="action-sidebar">
                    <button class="action-button" onclick="updateStatus('delivered')">
                        <i class="fas fa-check-circle"></i> Mark as Delivered
                    </button>
                    <button class="action-button secondary" onclick="window.location.href='shipment-form.html?id=SHP-001'">
                        <i class="fas fa-edit"></i> Edit Shipment
                    </button>
                    <button class="action-button" onclick="printLabel()">
                        <i class="fas fa-print"></i> Print Label
                    </button>
                    <button class="action-button" onclick="printInvoice()">
                        <i class="fas fa-file-invoice"></i> Print Invoice
                    </button>
                    <button class="action-button secondary" onclick="sendNotification()">
                        <i class="fas fa-bell"></i> Send Notification
                    </button>
                    <button class="action-button danger" onclick="confirmDelete()">
                        <i class="fas fa-trash"></i> Delete Shipment
                    </button>
                </div>
            </div>
        </div>
    </div>

    <script src="script.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Get shipment ID from URL parameter
            const urlParams = new URLSearchParams(window.location.search);
            const shipmentId = urlParams.get('id') || 'SHP-001';
            
            // In a real application, you would fetch shipment details from the backend
            // For demo purposes, we're using hardcoded data
            
            // Update page title with shipment ID
            document.querySelector('.shipment-id').textContent = `#${shipmentId}`;
            document.title = `${shipmentId} - Shipment Details - CIRCLE CODE`;
        });
        
        // Function to update shipment status
        function updateStatus(status) {
            const shipmentId = document.querySelector('.shipment-id').textContent.substring(1);
            
            // In a real application, you would send an API request to update the status
            console.log(`Updating status of ${shipmentId} to ${status}`);
            
            // For demo purposes, we'll just show an alert
            alert(`Shipment status updated to ${status.toUpperCase()}`);
            
            // Update the status display
            const statusElement = document.querySelector('.shipment-status');
            statusElement.className = `shipment-status status ${status}`;
            statusElement.textContent = status.toUpperCase();
            
            // Add a new timeline entry
            const timeline = document.querySelector('.tracking-timeline');
            const newEntry = document.createElement('div');
            newEntry.className = 'timeline-item active';
            
            const now = new Date();
            const formattedDate = `${now.toLocaleDateString('en-US', { month: 'short', day: 'numeric', year: 'numeric' })} - ${now.toLocaleTimeString('en-US', { hour: '2-digit', minute: '2-digit' })}`;
            
            newEntry.innerHTML = `
                <div class="timeline-point"></div>
                <div class="timeline-content">
                    <div class="timeline-date">${formattedDate}</div>
                    <div class="timeline-title">${status.charAt(0).toUpperCase() + status.slice(1)}</div>
                    <div class="timeline-description">Status updated to ${status}</div>
                </div>
            `;
            
            // Insert at the beginning of the timeline
            timeline.insertBefore(newEntry, timeline.firstChild);
            
            // Update action button
            if (status === 'delivered') {
                const deliveredButton = document.querySelector('.action-button');
                deliveredButton.innerHTML = '<i class="fas fa-undo"></i> Mark as Returned';
                deliveredButton.onclick = function() { updateStatus('returned'); };
            }
        }
        
        // Function to print shipping label
        function printLabel() {
            alert('Preparing shipping label for printing...');
            // In a real application, this would open a print dialog with the label
        }
        
        // Function to print invoice
        function printInvoice() {
            alert('Preparing invoice for printing...');
            // In a real application, this would open a print dialog with the invoice
        }
        
        // Function to send notification
        function sendNotification() {
            const options = ['Customer', 'Merchant', 'Agent'];
            const recipient = prompt(`Send notification to:\n1. ${options[0]}\n2. ${options[1]}\n3. ${options[2]}\n\nEnter number (1-3):`);
            
            if (recipient && recipient >= 1 && recipient <= 3) {
                const message = prompt(`Enter message to send to ${options[recipient-1]}:`);
                
                if (message) {
                    alert(`Notification sent to ${options[recipient-1]}: "${message}"`);
                }
            }
        }
        
        // Function to confirm deletion
        function confirmDelete() {
            const shipmentId = document.querySelector('.shipment-id').textContent;
            
            if (confirm(`Are you sure you want to delete ${shipmentId}? This action cannot be undone.`)) {
                // In a real application, you would send an API request to delete the shipment
                alert(`Shipment ${shipmentId} has been deleted.`);
                window.location.href = 'shipments.html';
            }
        }
    </script>
</body>
</html> 